<div class="organization-settings">
  <mat-card class="settings-card">
    <mat-card-title>Organization Settings</mat-card-title>

    <form [formGroup]="settingsForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Organization Name</mat-label>
          <input matInput formControlName="name" />
          <mat-error *ngIf="settingsForm.get('name')?.invalid">
            Name is required
          </mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Description</mat-label>
          <textarea matInput rows="3" formControlName="description"></textarea>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-checkbox formControlName="openMembership">
          Allow Open Membership
        </mat-checkbox>
        <small>Anyone can join the organization.</small>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Invite Domains</mat-label>
          <input
            matInput
            formControlName="inviteDomains"
            placeholder="e.g. @company.com, @organization.org"
          />
        </mat-form-field>
      </div>

      <div class="button-group">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="settingsForm.invalid || isLoading"
        >
          Save Changes
        </button>

        <button
          mat-raised-button
          color="warn"
          type="button"
          (click)="deleteOrganization()"
          [disabled]="isLoading"
        >
          Delete Organization
        </button>
      </div>
    </form>
  </mat-card>
</div>
